(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{2271:function(module,exports,__webpack_require__){"use strict";var _asyncToGenerator=__webpack_require__(59);__webpack_require__(46),Object.defineProperty(exports,"__esModule",{value:!0}),exports.adjustTitleByStatus=exports.revertRejectedJobRequest=exports.rejectJobRequest=exports.acceptJobRequest=exports.listJobRequestsForApplicant=exports.listJobRequests=exports.getJobRequestRefs=exports.getUsersActiveJobRequests=exports.loadJobRequest=void 0;var firestore_1=__webpack_require__(120),JobRequest_1=__webpack_require__(2277),utils_1=__webpack_require__(99),firebase_1=__webpack_require__(82),API_1=__webpack_require__(157);function _loadJobRequest(){return(_loadJobRequest=_asyncToGenerator(regeneratorRuntime.mark((function _callee(id){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,firebase_1.loadDocumentOrFail)(firebase_1.collections.jobRequests,id);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _getUsersActiveJobRequests(){return(_getUsersActiveJobRequests=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(jobId){var _a;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,firebase_1.listDocuments)((0,firestore_1.query)(firebase_1.collections.jobRequests,(0,firestore_1.where)("applicantId","==",(null===(_a=firebase_1.auth.currentUser)||void 0===_a?void 0:_a.uid)||null),(0,firestore_1.where)("jobId","==",jobId),(0,firestore_1.where)("status","==",JobRequest_1.JobRequestStatus.APPLIED)));case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function getJobRequestRefs(jobId,orgId){return(0,firestore_1.query)(firebase_1.collections.jobRequests,(0,firestore_1.where)("jobId","==",jobId),(0,firestore_1.where)("orgId","==",orgId))}function _listJobRequests(){return(_listJobRequests=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(jobId,orgId){var jobRequests;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,firebase_1.listDocuments)(getJobRequestRefs(jobId,orgId));case 2:return jobRequests=_context3.sent,_context3.abrupt("return",(0,utils_1.orderByDate)(jobRequests));case 4:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function _listJobRequestsForApplicant(){return(_listJobRequestsForApplicant=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(applicantId){var jobRequests;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,(0,firebase_1.listDocuments)((0,firestore_1.query)(firebase_1.collections.jobRequests,(0,firestore_1.where)("applicantId","==",applicantId)));case 2:return jobRequests=_context4.sent,_context4.abrupt("return",(0,utils_1.orderByDate)(jobRequests));case 4:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function _acceptJobRequest(){return(_acceptJobRequest=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(id,offer,unpublishing){return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,API_1.API.post("job-requests/".concat(id,"/accept"),{offer:offer,unpublishing:unpublishing});case 2:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}function _rejectJobRequest(){return(_rejectJobRequest=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(id,withEmail,message){return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,API_1.API.post("job-requests/".concat(id,"/reject"),{withEmail:withEmail,message:message});case 2:case"end":return _context6.stop()}}),_callee6)})))).apply(this,arguments)}function _revertRejectedJobRequest(){return(_revertRejectedJobRequest=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(id){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,API_1.API.post("job-requests/".concat(id,"/revertRejected"));case 2:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}exports.loadJobRequest=function loadJobRequest(_x){return _loadJobRequest.apply(this,arguments)},exports.getUsersActiveJobRequests=function getUsersActiveJobRequests(_x2){return _getUsersActiveJobRequests.apply(this,arguments)},exports.getJobRequestRefs=getJobRequestRefs,exports.listJobRequests=function listJobRequests(_x3,_x4){return _listJobRequests.apply(this,arguments)},exports.listJobRequestsForApplicant=function listJobRequestsForApplicant(_x5){return _listJobRequestsForApplicant.apply(this,arguments)},exports.acceptJobRequest=function acceptJobRequest(_x6,_x7,_x8){return _acceptJobRequest.apply(this,arguments)},exports.rejectJobRequest=function rejectJobRequest(_x9,_x10,_x11){return _rejectJobRequest.apply(this,arguments)},exports.revertRejectedJobRequest=function revertRejectedJobRequest(_x12){return _revertRejectedJobRequest.apply(this,arguments)},exports.adjustTitleByStatus=function adjustTitleByStatus(request,title){switch(request.status){case JobRequest_1.JobRequestStatus.ACCEPTED:return{title:title,before:"Pracujem pre",after:"na pozícii"};case JobRequest_1.JobRequestStatus.APPLIED:return{title:title,before:"Chcem pracovať pre",after:"na pozícii"};default:return{title:title,before:"Práca",after:"v organizácii"}}}},2277:function(module,exports,__webpack_require__){"use strict";var _exports$notFoundEmpR,JobRequestStatus,NotFoundEmpReason,_defineProperty=__webpack_require__(68);__webpack_require__(27),__webpack_require__(143),Object.defineProperty(exports,"__esModule",{value:!0}),exports.notFoundEmployeeOptions=exports.notFoundEmpReasonDict=exports.NotFoundEmpReason=exports.findEmployeeOptions=exports.DefaultJobRequest=exports.JobRequestStatus=void 0,function(JobRequestStatus){JobRequestStatus.APPLIED="applied",JobRequestStatus.ACCEPTED="accepted",JobRequestStatus.REJECTED="rejected"}(JobRequestStatus=exports.JobRequestStatus||(exports.JobRequestStatus={})),exports.DefaultJobRequest={email:"",phone:"",motivation:"",about:"",linkedInUrl:"",acceptTerms:!1,status:JobRequestStatus.APPLIED,jobMediationAgreementAccepted:!1},exports.findEmployeeOptions=[{id:"success",value:"success",label:"ÁNO"},{id:"noSuccess",value:"noSuccess",label:"NIE"},{id:"notDecided",value:"notDecided",label:"ešte sme výberový proces neuzavreli"}],function(NotFoundEmpReason){NotFoundEmpReason.extern="extern",NotFoundEmpReason.anotherPortal="another-portal",NotFoundEmpReason.linkedin="linkedin",NotFoundEmpReason.none="none",NotFoundEmpReason.other="other"}(NotFoundEmpReason=exports.NotFoundEmpReason||(exports.NotFoundEmpReason={})),exports.notFoundEmpReasonDict=(_defineProperty(_exports$notFoundEmpR={},NotFoundEmpReason.extern,"Vybrali sme iného uchádzača: interne / vďaka headhunterovi"),_defineProperty(_exports$notFoundEmpR,NotFoundEmpReason.anotherPortal,"Vybrali sme iného uchádzača cez iný pracovný portál"),_defineProperty(_exports$notFoundEmpR,NotFoundEmpReason.linkedin,"Vybrali sme iného uchádzača cez Linkedin"),_defineProperty(_exports$notFoundEmpR,NotFoundEmpReason.none,"Nevybrali sme žiadneho uchádzača"),_defineProperty(_exports$notFoundEmpR,NotFoundEmpReason.other,"Iný dôvod:"),_exports$notFoundEmpR),exports.notFoundEmployeeOptions=Object.values(NotFoundEmpReason).map((function(id){return{id:id,value:id,label:exports.notFoundEmpReasonDict[id]}}))}}]);