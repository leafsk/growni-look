(window.webpackJsonp=window.webpackJsonp||[]).push([[383],{3375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3376),_node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__);for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__)["default"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__[key]}))}(__WEBPACK_IMPORT_KEY__);__webpack_exports__.default=_node_modules_vue_docgen_loader_lib_index_js_ref_9_node_modules_storybook_vue_node_modules_ts_loader_index_js_ref_3_0_node_modules_babel_loader_lib_index_js_ref_22_0_node_modules_ts_loader_index_js_ref_22_1_node_modules_nuxt_components_dist_loader_js_ref_10_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default.a},3376:function(module,exports,__webpack_require__){"use strict";var _asyncToGenerator=__webpack_require__(58);__webpack_require__(46);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var auth_1=__webpack_require__(204),vue_1=__importDefault(__webpack_require__(7)),HeadMeta_1=__webpack_require__(616),CButton_vue_1=__importDefault(__webpack_require__(62)),CFormGroup_vue_1=__importDefault(__webpack_require__(199)),CFormInput_vue_1=__importDefault(__webpack_require__(154)),CHeading_vue_1=__importDefault(__webpack_require__(119)),firebase_1=__webpack_require__(82),ValidationService_1=__importStar(__webpack_require__(818));function validatePassword(_x){return _validatePassword.apply(this,arguments)}function _validatePassword(){return(_validatePassword=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(password){var validator;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return validator={password:[(0,ValidationService_1.isRequired)()]},_context3.next=3,ValidationService_1.default.validate({password:password},validator);case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}exports.default=vue_1.default.extend({components:{CButton:CButton_vue_1.default,CFormGroup:CFormGroup_vue_1.default,CFormInput:CFormInput_vue_1.default,CHeading:CHeading_vue_1.default},data:function data(){return{mode:"",password:"",error:"",trackGtmEvent:!1,validationResults:{isValid:!1,errors:{}},isSubmitting:!1}},head:function head(){return(0,HeadMeta_1.headMetaTrackGTM)(this.trackGtmEvent?"event: 'user_registration'":"")},mounted:function mounted(){var _this=this;this.$nextTick((function(){var _a,mode=_this.$route.query.mode;_this.mode=null!==(_a=mode)&&void 0!==_a?_a:"none","verifyEmail"===mode?(_this.trackGtmEvent=!0,_this.verifyEmail()):"resetPassword"!==mode&&(firebase_1.auth.currentUser||(localStorage.setItem("beforeLogInLocation",window.location.href),_this.$router.push({name:"auth-log-in"})))}))},methods:{verifyEmail:function verifyEmail(){var _this2=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this2$$route$query$o,oobCode,redirectToRoute;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,_this2$$route$query$o=_this2.$route.query.oobCode,oobCode=void 0===_this2$$route$query$o?null:_this2$$route$query$o){_context.next=6;break}return _context.abrupt("return",_this2.$router.push({name:"index"}));case 6:return _context.next=8,(0,auth_1.applyActionCode)(firebase_1.auth,oobCode);case 8:if(!(redirectToRoute=_this2.$route.query.redirect)){_context.next=11;break}return _context.abrupt("return",_this2.$router.push(redirectToRoute));case 11:return _context.abrupt("return",_this2.$router.push({name:"profile-activity"}));case 12:_context.next=17;break;case 14:_context.prev=14,_context.t0=_context.catch(0),"auth/expired-action-code"===_context.t0.code?_this2.error="Odkaz už bol použitý.":"auth/invalid-action-code"===_context.t0.code?_this2.error="Odkaz už nie je platný.":_this2.error=_context.t0.message;case 17:case"end":return _context.stop()}}),_callee,null,[[0,14]])})))()},setPassword:function setPassword(){var _this3=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this3$$route$query$o,oobCode;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _this3.isSubmitting=!0,_context2.prev=1,_context2.next=4,validatePassword(_this3.password);case 4:if(_this3.validationResults=_context2.sent,_this3.validationResults.isValid){_context2.next=7;break}return _context2.abrupt("return");case 7:if(_this3$$route$query$o=_this3.$route.query.oobCode,oobCode=void 0===_this3$$route$query$o?null:_this3$$route$query$o){_context2.next=12;break}return _context2.abrupt("return",_this3.$router.push({name:"index"}));case 12:return _context2.next=14,(0,auth_1.confirmPasswordReset)(firebase_1.auth,oobCode,_this3.password);case 14:_this3.$router.push({name:"auth-log-in"});case 15:_context2.next=20;break;case 17:_context2.prev=17,_context2.t0=_context2.catch(1),_this3.error=_context2.t0;case 20:return _context2.prev=20,_this3.isSubmitting=!1,_context2.finish(20);case 23:case"end":return _context2.stop()}}),_callee2,null,[[1,17,20,23]])})))()}}})},3813:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return render})),__webpack_require__.d(__webpack_exports__,"b",(function(){return staticRenderFns}));var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.error?_c("p",{staticClass:"mb-2 text-red-500"},[_vm._v("\n        "+_vm._s(_vm.error)+"\n    ")]):_vm._e(),_vm._v(" "),"resetPassword"===_vm.mode?[_c("div",{staticClass:"auth-form w-8/12 mx-auto"},[_c("div",{staticClass:"flex flex-col py-4 border-b"},[_c("CFormGroup",{attrs:{error:_vm.validationResults.errors.password,label:"Nové heslo",required:""}},[_c("CFormInput",{staticClass:"w-full mt-2",attrs:{name:"password",type:"password"},model:{value:_vm.password,callback:function($$v){_vm.password=$$v},expression:"password"}})],1),_vm._v(" "),_c("CButton",{attrs:{disabled:_vm.isSubmitting,full:"",variant:"primary"},on:{click:function($event){return $event.preventDefault(),_vm.setPassword.apply(null,arguments)}}},[_vm._v("\n                    Nastaviť heslo\n                ")])],1)])]:[_vm.error?_vm._e():_c("CHeading",{attrs:{variant:"2"}},[_vm._v("Prebieha verifikácia...")]),_vm._v(" "),_c("p",[_vm._v("\n            V prípade, ak verifikácia tvojho účtu neprebehla úspešne, pokús\n            sa z verifikačného emailu prekliknúť ešte raz.\n        ")]),_vm._v(" "),_vm._m(0)]],2)},staticRenderFns=[function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("p",[this._v("\n            Ak by si potreboval pomôcť, neváhaj napísať na\n            "),_c("a",{staticClass:"link",attrs:{href:"mailto:info@growni.sk"}},[this._v("info@growni.sk")]),this._v(".\n        ")])}]},3913:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _action_vue_vue_type_template_id_2c851896___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3813),_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3375);for(var __WEBPACK_IMPORT_KEY__ in _action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__)["default"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__[key]}))}(__WEBPACK_IMPORT_KEY__);var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);const __vuedocgen_export_0=Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__.a)(_action_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__.default,_action_vue_vue_type_template_id_2c851896___WEBPACK_IMPORTED_MODULE_0__.a,_action_vue_vue_type_template_id_2c851896___WEBPACK_IMPORTED_MODULE_0__.b,!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0,__vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"action",description:"",tags:{}}}}]);